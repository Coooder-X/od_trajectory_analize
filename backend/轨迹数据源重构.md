## 轨迹数据源重构

#### 数据结构

重构后，轨迹和 OD 对的数据结构和原先一致：

```python
# OD 点数据结构
[[lon, lat, time, trj_id, flag], [], ...] trj_id 是轨迹id，flag==0 表示 O 点，1表示 D 点
# 轨迹数据结构：
[[index], [date], [lon1, lat1, time1], ..., [lon, lat, time]]
```

数据库：`trajectory_db`，

轨迹数据表：`trj_table`

```sql
CREATE TABLE trj_table (
    id INT AUTO_INCREMENT PRIMARY KEY,
    month INT,
    date INT,
    start_time INT DEFAULT NULL,
    end_time INT DEFAULT NULL,
    point_list JSON DEFAULT NULL
);
```

#### app.py 内重构内容：

- `get_od_filter_by_day_and_hour` 的逻辑改为 `query_od_by_trj_day_and_hour`，从数据库查询。

- 在计算**单日**轨迹数量时，将调用 `od_pair_process.get_trj_num_filter_by_day`  改为调用 `query_trj_num_by_day`

- 在计算**小时级别**轨迹数量时，将 `get_trj_num_filter_by_day_and_hour` 内的逻辑进行修改，改为调用  `query_trj_by_day_and_hour`
- 在函数 `trj_num_by_hour` 内，计算每小时轨迹数量的函数 `get_trj_num_filter_by_day` 改为调用 `query_trips_by_day`



## 目前数据源：

（pickle、txt 文件等）